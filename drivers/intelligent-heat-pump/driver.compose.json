{
  "name": {
    "en": "intelligent-heat-pump",
    "nl": "intelligent-heat-pump"
  },
  "class": "heatpump",

  "capabilities": [
    "target_temperature",

    "onoff",

    "adlar_hotwater",
    "adlar_enum_water_mode",

    "adlar_enum_mode",
    "adlar_enum_work_mode",
    "adlar_enum_capacity_set",
    "adlar_enum_volume_set",
    "adlar_enum_countdown_set",

    "measure_frequency.compressor_strength",
    "measure_frequency.fan_motor_frequency",

    "measure_water",
    "measure_temperature.around_temp",
    "measure_temperature.temp_top",
    "measure_temperature.temp_bottom",
    "measure_temperature.coiler_temp",
    "measure_temperature.venting_temp",

    "measure_temperature.temp_current_f",
    "measure_temperature.top_temp_f",
    "measure_temperature.bottom_temp_f",
    "measure_temperature.around_temp_f",
    "measure_temperature.coiler_temp_f",
    "measure_temperature.evlin",
    "measure_temperature.eviout",

    "adlar_measure_pulse_steps_temp_current",
    "adlar_measure_pulse_steps_effluent_temp",

    "measure_power",
    "meter_power.power_consumption",
    "meter_power.electric_total",
    "measure_current.cur_current",
    "measure_current.b_cur",
    "measure_current.c_cur",
    "measure_voltage.voltage_current",
    "measure_voltage.bv",
    "measure_voltage.cv",

    "adlar_fault",
    "adlar_state_compressor_state",
    "adlar_state_defrost_state",
   
    "adlar_state_backwater",

    "adlar_cop",
    "adlar_cop_method",
    "adlar_external_power",
    "adlar_external_energy_total",
    "adlar_external_flow",
    "adlar_external_ambient",
    "adlar_cop_daily",
    "adlar_cop_weekly",
    "adlar_cop_trend",
    "adlar_scop",
    "adlar_scop_quality",

     "adlar_countdowntimer"
  ],

  "capabilitiesOptions": {
    "measure_power": {
      "title": {
        "nl": "Huidig vermogen",
        "en": "Current power"
      },
      "min": 0,
      "max": 9999999,
      "description": {
        "nl": " dps_104: cur_power - Power"
      }
    },

    "measure_water": {
      "title": {
        "nl": "Water doorstroming",
        "en": "Water flow"
      },
      "min": 0,
      "max": 100,
      "description": {
        "nl": "dps_39: venting_temp_f - Water flow"
      }
    },

    "target_temperature": {
      "title": {
        "nl": "Setpoint temperatuur",
        "en": "Setpoint temperature"
      },
      "min": 5,
      "max": 75,
      "step": 1,
      "unit": "°C",
      "setable": true,
      "description": {
        "nl": "dps_4: temp_set - Stel temperatuur"
      }
    },

    "onoff": {
      "title": {
        "nl": "Schakelaar",
        "en": "Switch"
      },
      "setable": true,
      "uiQuickAction": false,
      "description": {
        "nl": "dps_1: switch - Schakelaar"
      }
    },

    "measure_voltage.bv": {
      "title": {
        "en": "Voltage B",
        "nl": "Spanning B"
      },
      "min": 0,
      "max": 99999,
      "insights": false,
      "insightsTitle": {
        "en": "Voltage B",
        "nl": "Spanning B"
      },
      "description": {
        "nl": "dp 111 : bv - Voltage B"
      }
    },

    "measure_current.b_cur": {
      "title": {
        "en": "Current B",
        "nl": "Amperage B"
      },
      "min": 0,
      "max": 99999,
      "insights": false,
      "insightsTitle": {
        "en": "Current B",
        "nl": "Amperage B"
      },
      "description": {
        "nl": "dp 109 : b_cur - Current B"
      }
    },

    "measure_current.c_cur": {
      "title": {
        "en": "Current C",
        "nl": "Amperage C"
      },
      "min": 0,
      "max": 99999,
      "insights": false,
      "insightsTitle": {
        "en": "Current C",
        "nl": "Amperage C"
      },
      "description": {
        "nl": "dp 110 : c_cur - Current C"
      }
    },

    "measure_current.cur_current": {
      "title": {
        "en": "Current A",
        "nl": "Hudige stroomsterkte"
      },
      "min": 0,
      "max": 99999,
      "insights": false,
      "insightsTitle": {
        "en": "Current A",
        "nl": "Hudige stroomsterkte"
      },
      "description": {
        "nl": "dp 102 : cur_current - Current A"
      }
    },

    "measure_frequency.compressor_strength": {
      "title": {
        "en": "Compressor Frequency",
        "nl": "Compressor frequentie"
      },
      "type": "number",
      "min": 0,
      "max": 200,
      "insights": true,
      "insightsTitle": {
        "en": "Compressor Frequency",
        "nl": "Compressor frequentie"
      },
      "description": {
        "nl": "dp 20 : compressor_strength - Compressor Frequency"
      }
    },

    "measure_frequency.fan_motor_frequency": {
      "title": {
        "en": "Fan motor frequency",
        "nl": "Ventilator frequentie"
      },
      "min": 0,
      "max": 100,
      "insights": true,
      "insightsTitle": {
        "en": "Fan motor frequency",
        "nl": "Ventilator frequentie"
      },
      "description": {
        "nl": "dp 40 : effluent_temp_f - Fan motor frequency"
      }
    },

    "measure_temperature.around_temp_f": {
      "title": {
        "en": "Tank temp",
        "nl": "Tapwater temperatuur"
      },
      "min": -50,
      "max": 150,
      "insights": true,
      "insightsTitle": {
        "en": "Tank temp",
        "nl": "Tapwater temperatuur"
      },
      "description": {
        "nl": "dp 38 : around_temp_f - Tank temp"
      }
    },
    "measure_temperature.around_temp": {
      "title": {
        "en": "Ambient temp",
        "nl": "Buitentemperatuur"
      },
      "min": -50,
      "max": 150,
      "insights": true,
      "insightsTitle": {
        "en": "Ambient temp",
        "nl": "Buitentemperatuur"
      },
      "description": {
        "nl": "dp 26 : around_temp - Ambient temp"
      }
    },
    "measure_temperature.temp_top": {
      "title": {
        "en": "Inlet temp",
        "nl": "Water intrede temperatuur"
      },
      "min": -50,
      "max": 150,
      "insights": true,
      "insightsTitle": {
        "en": "Inlet temp",
        "nl": "Water intrede temperatuur"
      },
      "description": {
        "nl": "dp 21 : temp_top - Inlet temp"
      }
    },
    "measure_temperature.temp_current_f": {
      "title": {
        "en": "High pressure temp",
        "nl": "Hogedruk verzadigingstemperatuur"
      },
      "min": -50,
      "max": 150,
      "insights": true,
      "insightsTitle": {
        "en": "High pressure temp",
        "nl": "Hogedruk verzadigingstemperatuur"
      },
      "description": {
        "nl": "dp 35 : temp_current_f - High pressure temp"
      }
    },
    "measure_temperature.bottom_temp_f": {
      "title": {
        "en": "Incoiler temp",
        "nl": "Condensor temperatuur"
      },
      "min": -50,
      "max": 150,
      "insights": true,
      "insightsTitle": {
        "en": "Incoiler temp",
        "nl": "Condensor temperatuur"
      },
      "description": {
        "nl": "dp 37 : bottom_temp_f - Incoiler temp"
      }
    },
    "measure_temperature.coiler_temp_f": {
      "title": {
        "en": "Suction Temp",
        "nl": "Zuiggas temperatuur"
      },
      "min": -50,
      "max": 150,
      "insights": true,
      "insightsTitle": {
        "en": "Suction Temp",
        "nl": "Zuiggas temperatuur"
      },
      "description": {
        "nl": "dp 41 : coiler_temp_f - Suction Temp"
      }
    },
    "measure_temperature.top_temp_f": {
      "title": {
        "en": "Low presure temp",
        "nl": "Lagedruk verzadigingstemperatuur"
      },
      "min": -50,
      "max": 150,
      "insights": true,
      "insightsTitle": {
        "en": "Low presure temp",
        "nl": "Lagedruk verzadigingstemperatuur"
      },
      "description": {
        "nl": "dp 36 : top_temp_f - Low presure temp"
      }
    },
    "measure_temperature.coiler_temp": {
      "title": {
        "en": "Coiler temp",
        "nl": "Verdampingscondensator temperatuur"
      },
      "min": -50,
      "max": 150,
      "insights": true,
      "insightsTitle": {
        "en": "Coiler temp",
        "nl": "Verdampingscondensator temperatuur"
      },
      "description": {
        "nl": "dp 23 : coiler_temp - Electricity Coiler temp"
      }
    },
    "measure_temperature.evlin": {
      "title": {
        "en": "Economizer inlet Temp",
        "nl": "EVI wamtewisselaar zuiggas temperatuur"
      },
      "min": -50,
      "max": 150,
      "insights": true,
      "insightsTitle": {
        "en": "Economizer inlet Temp",
        "nl": "EVI wamtewisselaar zuiggas temperatuur"
      },
      "description": {
        "nl": "dp 107 : evlin - Economizer inlet Temp"
      }
    },
    "measure_temperature.venting_temp": {
      "title": {
        "en": "Discharge temp",
        "nl": "Persgas temperatuur"
      },
      "min": -50,
      "max": 150,
      "insights": true,
      "insightsTitle": {
        "en": "Discharge temp",
        "nl": "Persgas temperatuur"
      },
      "description": {
        "nl": "dp 24 : venting_temp - Discharge temp"
      }
    },
    "measure_temperature.temp_bottom": {
      "title": {
        "en": "Outlet temp",
        "nl": "Water uittrede temperatuur"
      },
      "min": -50,
      "max": 150,
      "insights": true,
      "insightsTitle": {
        "en": "Outlet temp",
        "nl": "Water uittrede temperatuur"
      },
      "description": {
        "nl": "dp 22 : temp_bottom - Outlet temp"
      }
    },
    "measure_temperature.eviout": {
      "title": {
        "en": "Economizer outlet Temp",
        "nl": "EVI wamtewisselaar persgas temperatuur"
      },
      "min": -50,
      "max": 150,
      "insights": true,
      "insightsTitle": {
        "en": "Economizer outlet Temp",
        "nl": "EVI wamtewisselaar persgas temperatuurr"
      },
      "description": {
        "nl": "dp 108 : eviout - Economy outlet temp"
      }
    },

    "meter_power.power_consumption": {
      "title": {
        "en": "Electricity Consumption of Today",
        "nl": "Stroom dagverbruik"
      },
      "min": 0,
      "max": 200000,
      "insights": false,
      "insightsTitle": {
        "en": "Electricity Consumption of Today",
        "nl": "Stroom dagverbruik"
      },
      "description": {
        "nl": "dp 18 : power_consumption - Electricity Consumption of Today"
      }
    },
    "meter_power.electric_total": {
      "title": {
        "en": "Total Electricity Consumption",
        "nl": "Totaal stroomverbruik"
      },
      "min": 0,
      "max": 9999999,
      "insights": false,
      "insightsTitle": {
        "en": "Total Electricity Consumption",
        "nl": "Totaal stroomverbruik"
      },
      "description": {
        "nl": "dp 105 : electric_total - Total Electricity Consumption"
      }
    },
    "measure_voltage.voltage_current": {
      "title": {
        "en": "Voltage A",
        "nl": "Huidige spanning"
      },
      "min": 0,
      "max": 10000,
      "insights": false,
      "insightsTitle": {
        "en": "Voltage A",
        "nl": "Huidige spanning"
      },
      "description": {
        "nl": "dp 103 : voltage_current - Voltage A"
      }
    },
    "measure_voltage.cv": {
      "title": {
        "en": "Voltage C",
        "nl": "Voltage C"
      },
      "min": 0,
      "max": 10000,
      "insights": false,
      "insightsTitle": {
        "en": "Voltage C",
        "nl": "Voltage C"
      },
      "description": {
        "nl": "dp 112 : cv - Voltage C"
      }
    },

    "adlar_cop": {
      "title": {
        "en": "Coefficient of Performance (COP)",
        "nl": "Prestatiecoëfficiënt (COP)"
      },
      "type": "number",
      "min": 0.0,
      "max": 8.0,
      "step": 0.01,
      "decimals": 2,
      "insights": true,
      "insightsTitle": {
        "en": "Heat Pump Efficiency (COP)",
        "nl": "Warmtepomp Efficiëntie (COP)"
      },
      "description": {
        "en": "Calculated efficiency ratio of useful heat output to electrical energy input",
        "nl": "Berekende efficiëntieverhouding van nuttige warmte-output tot elektrische energie-input"
      }
    },

    "adlar_cop_method": {
      "title": {
        "en": "COP Calculation Method",
        "nl": "COP Berekenings Methode"
      },
      "type": "string",
      "insights": false,
      "insightsTitle": {
        "en": "COP Method Used",
        "nl": "COP Methode Gebruikt"
      },
      "description": {
        "en": "Shows which calculation method was used to determine the COP value, indicating data quality and accuracy level",
        "nl": "Toont welke berekeningsmethode werd gebruikt om de COP waarde te bepalen, wat de datakwaliteit en nauwkeurigheidsniveau aangeeft"
      }
    },

    "adlar_external_power": {
      "title": {
        "en": "External Power Measurement",
        "nl": "Externe Vermogen Meting"
      },
      "type": "number",
      "min": 0,
      "max": 50000,
      "step": 0.1,
      "decimals": 1,
      "insights": true,
      "insightsTitle": {
        "en": "External Power Input for COP",
        "nl": "Externe Vermogen Input voor COP"
      },
      "description": {
        "en": "External power measurement received via flow cards from other Homey devices, used for enhanced COP calculations",
        "nl": "Externe vermogensmeting ontvangen via flow kaarten van andere Homey apparaten, gebruikt voor verbeterde COP berekeningen"
      }
    },

    "adlar_cop_daily": {
      "title": {
        "en": "Daily Average COP",
        "nl": "Dagelijkse Gemiddelde COP"
      },
      "type": "number",
      "min": 0.0,
      "max": 8.0,
      "step": 0.01,
      "decimals": 2,
      "insights": true,
      "insightsTitle": {
        "en": "Daily Heat Pump Efficiency (COP)",
        "nl": "Dagelijkse Warmtepomp Efficiëntie (COP)"
      },
      "description": {
        "en": "24-hour rolling average Coefficient of Performance for trend analysis and daily optimization",
        "nl": "24-uurs voortschrijdend gemiddelde prestatiecoëfficiënt voor trendanalyse en dagelijkse optimalisatie"
      }
    },

    "adlar_cop_weekly": {
      "title": {
        "en": "Weekly Average COP",
        "nl": "Wekelijkse Gemiddelde COP"
      },
      "type": "number",
      "min": 0.0,
      "max": 8.0,
      "step": 0.01,
      "decimals": 2,
      "insights": true,
      "insightsTitle": {
        "en": "Weekly Heat Pump Efficiency (COP)",
        "nl": "Wekelijkse Warmtepomp Efficiëntie (COP)"
      },
      "description": {
        "en": "7-day rolling average Coefficient of Performance for seasonal pattern identification",
        "nl": "7-daags voortschrijdend gemiddelde prestatiecoëfficiënt voor seizoenspatroon identificatie"
      }
    },

    "adlar_cop_trend": {
      "title": {
        "en": "COP Efficiency Trend",
        "nl": "COP Efficiëntie Trend"
      },
      "type": "string",
      "insights": false,
      "description": {
        "en": "Current heat pump efficiency trend analysis showing performance direction and strength",
        "nl": "Huidige warmtepomp efficiëntie trendanalyse die prestatie richting en sterkte toont"
      }
    }
  },

  "platforms": ["local"],
  "connectivity": ["lan"],
  "images": {
    "small": "{{driverAssetsPath}}/images/Aurora2-drv-small.png",
    "large": "{{driverAssetsPath}}/images/Aurora2-drv-large.png",
    "xlarge": "{{driverAssetsPath}}/images/Aurora2-drv-xlarge.png"
  },
  "energy": {
    "cumulative": true,
    "cumulativeImportedCapability": "meter_power.electric_total",
    "approximation": {
      "usageConstant": 2500
    }
  },

  "pair": [
    {
      "id": "enter_device_info"
    },
    {
      "id": "list_devices",
      "template": "list_devices",
      "navigation": {
        "next": "add_devices"
      }
    },
    {
      "id": "add_devices",
      "template": "add_devices",
      "navigation": {
        "next": "done"
      }
    },
    {
      "id": "done",
      "template": "done"
    }
  ]
}
